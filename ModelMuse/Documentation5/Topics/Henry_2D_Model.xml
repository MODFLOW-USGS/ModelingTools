<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="rbwinst-pr" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Henry 2D Model</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Henry 2D Model</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The simulation of the </text><link displaytype="text" defaultstyle="true" type="weblink" href="http://pubs.er.usgs.gov/publication/wsp1613C" target="_blank" styleclass="Normal" translate="true">Henry (1964)</link><text styleclass="Normal" translate="true"> problem is described in the SUTRA documentation (</text><link displaytype="text" defaultstyle="true" type="weblink" href="http://pubs.er.usgs.gov/publication/wri024231" target="_blank" styleclass="Normal" translate="true">Voss and Provost, 2002</link><text styleclass="Normal" translate="true">). It consists of a vertical box 2 m long and 1 m high with freshwater inflow on the left side and a saltwater boundary on the right. The mesh consists of square elements that are 0.1 m on a side. This model illustrates how to use a steady-state simulation to provides the initial pressures for a transient simulation. In the steady-state model, there is a specified pressure boundary on the right with a concentration of 0 and inflow of fresh water from the left. In the transient model, the specified pressure boundary is changed to have a concentration equal to that of seawater. The system is then allowed to evolve until it reaches a nearly steady-state condition. This example also illustrates how to check that boundaries have been set up as intended and how to animate the results of a simulation.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Simulation for initial conditions.</text></para>
    <list id="3" type="ol" listtype="decimal" formatstring="%0:s." format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Start ModelMuse and select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Create new SUTRA model</text><text styleclass="Normal" translate="true">. Click the </text><text styleclass="Strong" translate="true">Next</text><text styleclass="Normal" translate="true"> button. Specify &quot;Not Applicable&quot; for the projection. Then click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Next</text><text styleclass="Normal" translate="true"> button again.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">Set the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Mesh type</text><text styleclass="Normal" translate="true"> to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">2D profile</text><text styleclass="Normal" translate="true">, </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Transport</text><text styleclass="Normal" translate="true"> to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Solute using pressure</text><text styleclass="Normal" translate="true"> and for </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Model position</text><text styleclass="Normal" translate="true">, set the lower value for both coordinates to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">0</text><text styleclass="Normal" translate="true">, the higher X coordinate to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">2</text><text styleclass="Normal" translate="true"> and the higher Y coordinate to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">1</text><text styleclass="Normal" translate="true">. Then click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Finish</text><text styleclass="Normal" translate="true"> button.</text><br/><image src="HenryStartUp.png" scale="100.00%" styleclass="Image Caption"></image></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">View|Vertical Exaggeration</text><text styleclass="Normal" translate="true"> and the set the vertical exaggeration to 1.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">The next step is to create the mesh. Because we want a perfectly regular mesh, we will use the &quot;fishnet mesh&quot; approach. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Mesh|Draw Fishnet-Mesh Quadrilaterals</text><text styleclass="Normal" translate="true"> or click on the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Draw fishnet-mesh quadrilaterals</text><text styleclass="Normal" translate="true"> </text><image src="FishnetMeshButton.png" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">To draw the quadrilateral click four times in the main window to draw a quadrilateral. Try to click at approximately the following coordinates: (0,0), (2,0), (2,1), and (0,1). You don&apos;t need to be exact. We&apos;ll set the coordinates exactly in a later step.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">After you click on the fourth coordinate, the fishnet quadrilateral will be created. Control will appear on two sides of the quadrilateral. Enter values of 20 and 10 in the two controls so that 20 elements will be created along the horizontal edge and 10 elements will be created along the vertical edge.</text><br/><image src="HenryInitialFishnet.png" scale="100.00%" styleclass="Image Caption"></image></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">Now double-click in the center of the fishnet-mesh quadrilateral. The </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Fishnet_Quadrilateral_Properti" styleclass="Normal" style="font-weight:bold;" translate="true">Fishnet Quadrilateral Properties</link><text styleclass="Normal" translate="true"> dialog box will appear. The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">First Direction</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Second Direction</text><text styleclass="Normal" translate="true"> tabs in this dialog box are used to specify how the elements are distributed along the side of the quadrilateral. By default, they are uniformly distributed which is what we want so we won&apos;t be doing anything on those tabs. Switch to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Corner Coordinates</text><text styleclass="Normal" translate="true"> tab and enter the precise coordinates we want for the corners of the quadrilateral. Those are (0,0), (2,0), (2,1), and (0,1). Then click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true">.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">Now select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Mesh|Generate Mesh...</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Generate mesh</text><text styleclass="Normal" translate="true"> </text><image src="GenerateGrid.png" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button. The Mesh Generation Method should already be set to Fishnet and the renumbering method does not apply in this case. Just click the OK button and the mesh will be generated. </text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Navigation|Restore Default 2D View</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Restore default 2D view</text><text styleclass="Normal" translate="true"> </text><image src="ZoomToFit.png" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button to center the mesh in the ModelMuse main window with an appropriate magnification.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">The next step is to create a fluid source along the left edge of the model. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Object|Create|Straight Line</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Create straight line object</text><text styleclass="Normal" translate="true"> </text><image src="CreateStraightLine.png" scale="100.00%" styleclass="Normal"><title translate="true">Create Straight-Line Object button</title></image><text styleclass="Normal" translate="true"> button and then </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Creating_Objects" styleclass="Normal" translate="true">create an object</link><text styleclass="Normal" translate="true"> near the left edge of the mesh stretching from the top to the bottom of the mesh. In the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Object_Properties_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Object Properties</link><text styleclass="Normal" translate="true"> dialog box, change </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Evaluated at</text><text styleclass="Normal" translate="true"> to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Nodes</text><text styleclass="Normal" translate="true">. Switch to the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="SUTRA_Features_Tab" styleclass="Normal" style="font-weight:bold;" translate="true">Sutra Features</link><text styleclass="Normal" translate="true"> tab and check the check box for </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Fluid Flux</text><text styleclass="Normal" translate="true"> on the left. Change the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Number of times</text><text styleclass="Normal" translate="true"> to 1. In the table, there should be 1 row. In the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Time</text><text styleclass="Normal" translate="true"> column set the time to 0. Check the checkbox in the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Used</text><text styleclass="Normal" translate="true"> column. In the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Fluid source</text><text styleclass="Normal" translate="true"> column set the formula to &quot;(0.066 * ObjectIntersectLength) / ObjectLength&quot; and in the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Associated concentration</text><text styleclass="Normal" translate="true"> set the formula to 0. </text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">The formula for the fluid source is intended to provide a total source of 0.066 divide up among the nodes on the left edge of the model. However, for the fomula to work properly, we need the object to reach exactly from the top to the bottom of the mesh. To do that go to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Vertices</text><text styleclass="Normal" translate="true"> tab and change one of the Y coordinates to 1 and the other one to 0. Then click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true">.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">To make sure the fluid source was applied correctly, we will color the grid with the fluid source value. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data|Data Visualization</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data visualization</text><text styleclass="Normal" translate="true"> </text><image src="DataVisualizationButton.bmp" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Color Grid</text><text styleclass="Normal" translate="true"> on the left and for </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data set or boundary condition</text><text styleclass="Normal" translate="true">, select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Fluid Flux</text><text styleclass="Normal" translate="true">. Set the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Time</text><text styleclass="Normal" translate="true"> to 0 and click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Apply</text><text styleclass="Normal" translate="true">. You should end up with something like this.</text><br/><image src="HenryFluidSource.png" scale="100.00%" styleclass="Image Caption"></image></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">If you place the cursor over one of the colored cells, the value applied to the node will be displayed in the third panel on the status bar. For the red cells, the value should be 0.066. For the blue cells, it should be 0.033.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">The next step will be to define the specified pressure on the right side of the mesh. We will use the following formula for the density of water as a function of concentration (1000. + 700. * Concentration). We will specify the concentration as 0.0357 and we will also need to specify a value for gravity (9.8). We will use global variables to specify the seawater concentration and gravity. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data|Edit Global Variables...</text><text styleclass="Normal" translate="true"> and define two global variables named SeaWaterConcentration and Gravity. They should both be real numbers with values of 0.0357 and 9.8 respectively.</text></li>
      <li styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">Now we will create the specified pressure boundary. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Object|Create|Straight Line</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Create straight line object</text><text styleclass="Normal" translate="true"> </text><image src="CreateStraightLine.png" scale="100.00%" styleclass="Normal"><title translate="true">Create Straight-Line Object button</title></image><text styleclass="Normal" translate="true"> button and then </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Creating_Objects" styleclass="Normal" translate="true">create an object</link><text styleclass="Normal" translate="true"> near the right edge of the mesh stretching from the top to the bottom of the mesh. In the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Object_Properties_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Object Properties</link><text styleclass="Normal" translate="true"> dialog box, change </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Evaluated at</text><text styleclass="Normal" translate="true"> to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Nodes</text><text styleclass="Normal" translate="true">. Switch to the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="SUTRA_Features_Tab" styleclass="Normal" style="font-weight:bold;" translate="true">Sutra Features</link><text styleclass="Normal" translate="true"> tab and check the check box for </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Specified Pressure</text><text styleclass="Normal" translate="true"> or the left. Change the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Number of times</text><text styleclass="Normal" translate="true"> to 1. In the table, there should be 1 row. In the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Time</text><text styleclass="Normal" translate="true"> column set the time to 0. Check the checkbox in the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Used</text><text styleclass="Normal" translate="true"> column. In the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Specified pressure</text><text styleclass="Normal" translate="true"> column set the formula to &quot;((1000. + (700. * SeaWaterConcentration)) * Gravity) * (1. - Y)&quot; and in the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Associated concentration</text><text styleclass="Normal" translate="true"> set the formula to 0. </text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">To make sure the specified pressure was applied correctly, we will color the grid with the specified pressure. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data|Data Visualization</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data visualization</text><text styleclass="Normal" translate="true"> </text><image src="DataVisualizationButton.bmp" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Color Grid</text><text styleclass="Normal" translate="true"> on the left and for </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data set or boundary condition</text><text styleclass="Normal" translate="true">, select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">SUTRA Specified Pressure</text><text styleclass="Normal" translate="true">. Set the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Time</text><text styleclass="Normal" translate="true"> to 0 and click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Apply</text><text styleclass="Normal" translate="true">. You should end up with something like this.</text><br/><image src="HenrySpecifiedPressure.png" scale="100.00%" styleclass="Image Caption"></image></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">You can check the specified pressures in the same way you checked the fluid flux. The specified pressures should range from 10044.902 at the base to 0 at the top.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">The final step for this model is to set a few of the aquifer properties. We will set the longitudinal and transverse dispersivities to 0, the permeability to 1.020408E-9, and the porosity to 0.35. Select </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Data_Sets_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Data|Edit Data Sets...</link><text styleclass="Normal" translate="true"> and under </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Required|Hydrology</text><text styleclass="Normal" translate="true">, select each of the appropriate data sets and set the formulas to the correct values and click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Apply</text><text styleclass="Normal" translate="true">.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">We also need to set a few controls in the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="SUTRA_Options_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">SUTRA Options</link><text styleclass="Normal" translate="true"> dialog box before we will be ready to run the model. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Model|SUTRA Options...</text><text styleclass="Normal" translate="true"> </text></li>
    </list>
    <list id="4" type="ol" listtype="lower-alpha" formatstring="%0:s)" format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:47px; tabstops:none; font-family:'Times New Roman'; font-size:12pt; color:#000000;">
      <li styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:47px; tabstops:none;"><text styleclass="Normal" translate="true">On Configuration pane, set GRAVY to -9.8. </text></li>
      <li styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:47px; tabstops:none;"><text styleclass="Normal" translate="true">On the Title pane, set the title to &quot;Henry Problem from SUTRA Documentation: variable-density benchmark problem.&quot; The first two lines that you enter will be printed to the SUTRA output file.</text></li>
      <li styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:47px; tabstops:none;"><text styleclass="Normal" translate="true">On the Fluid Properties pane, set </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Fluid compressibility</text><text styleclass="Normal" translate="true"> to 0 and </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Fluid diffusivity</text><text styleclass="Normal" translate="true"> to 1.88571E-5.</text></li>
      <li styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:47px; tabstops:none;"><text styleclass="Normal" translate="true">Click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true">.</text></li>
    </list>
    <list id="3" type="ol" listtype="decimal" formatstring="%0:s." format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">File|Save</text><text styleclass="Normal" translate="true"> and save the ModelMuse project as Henry2D_InitialPressure.gpt.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Mode|SUTRA Program Location</text><text styleclass="Normal" translate="true"> and check to make sure that the location for SUTRA is correct.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Now select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">File|Export|SUTRA Input files</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Run SUTRA</text><image src="RunButton.bmp" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button. SUTRA will open in a command-line window and run. You can close the window when you are done. We will use the restart file from this model to define the initial pressures in the transient model.</text><br/><image src="HenryRunSutra.png" scale="100.00%" styleclass="Image Caption"></image></li>
    </list>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Simulation for Transient Condtions</text></para>
    <list id="5" type="ol" listtype="decimal" formatstring="%0:s." format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Save the previous model with a new name: Henry2D.gpt. We will modify this to be a transient model with seawater on the right boundary.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">The first step is to change the model to a transient model. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Model|SUTRA Options...</text><text styleclass="Normal" translate="true"> On the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Configuration</text><text styleclass="Normal" translate="true"> pane, change the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Simulation type</text><text styleclass="Normal" translate="true"> to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Transient flow, transient transport</text><text styleclass="Normal" translate="true">.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Switch to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Initial Conditions</text><text styleclass="Normal" translate="true"> pane. Under </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Read initial conditions from restart file</text><text styleclass="Normal" translate="true">, select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Read the pressure/head from restart file</text><text styleclass="Normal" translate="true">. Then select the restart file from the previous model (Henry2D_InitialPressure.rst). Click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true"> to close the dialog box.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Next, select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Model|SUTRA Time Controls...</text><text styleclass="Normal" translate="true"> For the TIME_STEPS schedule, change </text><text styleclass="Normal" style="font-weight:bold;" translate="true">NTMAX</text><text styleclass="Normal" translate="true"> from 1 to 100 and change </text><text styleclass="Normal" style="font-weight:bold;" translate="true">TIMEC</text><text styleclass="Normal" translate="true"> to 60. </text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">We will also add another schedule that we will use with the observations we plan to set up later. Click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Add time schedule</text><text styleclass="Normal" translate="true"> </text><image src="AddLayer.bmp" scale="100.00%" styleclass="Image Caption"><title translate="true">Add Layer Group button</title></image><text styleclass="Normal" translate="true"> button. Then set the name of the new schedule to &apos;&quot;Timed_Obs.&quot; Change the type of schedule to a step schedule. Then set </text><text styleclass="Normal" style="font-weight:bold;" translate="true">NSMAX</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Normal" style="font-weight:bold;" translate="true">ISTEPL</text><text styleclass="Normal" translate="true"> to 500 and click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true">.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">We also need to change when results are printed. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Model|SUTRA Output Control...</text><text styleclass="Normal" translate="true"> On the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Listing File</text><text styleclass="Normal" translate="true"> pane, change </text><text styleclass="Normal" style="font-weight:bold;" translate="true">NPRINT</text><text styleclass="Normal" translate="true"> to 50. Then on the NOD and ELE Files pane, change </text><text styleclass="Normal" style="font-weight:bold;" translate="true">NCOLPR</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Normal" style="font-weight:bold;" translate="true">LCOLPR</text><text styleclass="Normal" translate="true"> to 10. Click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true"> to close the dialog box.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">The next step is to the observation locations. We will have observations at the nodes on the bottom edge of the model between 1.0 and 1.9 on the X axis. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Object|Create|Polygon</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Create polygon object</text><text styleclass="Normal" translate="true"> </text><image src="CreatePolygon.png" scale="100.00%" styleclass="Image Caption"><title translate="true">Create Polygon Object button</title></image><text styleclass="Normal" translate="true"> button. </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Creating_Objects" styleclass="Normal" translate="true">Create a polygon object</link><text styleclass="Normal" translate="true"> that surrounds the desired nodes. In the Object Properties dialog box, change </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Evaluated At</text><text styleclass="Normal" translate="true"> to nodes and switch to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">SUTRA Features</text><text styleclass="Normal" translate="true"> tab. Check the check box for Observations on the left. Select an arbitrary </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Name</text><text styleclass="Normal" translate="true"> for the observations and set the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Schedule</text><text styleclass="Normal" translate="true"> to Timed_Obs. Click </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true">. Because this object is evaluated at nodes, the nodes that are enclosed by the object will be observation locations. To have an observation made at an arbitrary location, you could have used a point object.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">When we set up the specified pressure boundary on the right, we set its concentration to 0. We need to change that to the concentration of seawater. Make sure you have the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Select objects</text><text styleclass="Normal" translate="true"> </text><image src="Select.png" scale="100.00%" styleclass="Normal"><title translate="true">Select Objects button</title></image><text styleclass="Normal" translate="true"> button depressed and double-click on the specified pressure boundary to open it in the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Object_Properties_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Object Properties</link><text styleclass="Normal" translate="true"> dialog box. Go to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">SUTRA Features</text><text styleclass="Normal" translate="true"> tab and set the formula for the associated concentration to &quot;SeaWaterConcentration.&quot; Recall that SeaWaterConcentration is the name of a global variable that we set up earlier.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">Next save and then run the model.as you did before.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">This time we will take a look at the model results but first we will hide all the objects. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Object|Show or Hide Objects...</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Show or hide objects </text><image src="ShowHideObjectsButton.bmp" scale="100.00%" styleclass="Image Caption"><title translate="true">Show or Hide Objects button</title></image><text styleclass="Normal" translate="true"> button. Uncheck the checkbox labeled </text><text styleclass="Normal" style="font-weight:bold;" translate="true">All Objects</text><text styleclass="Normal" translate="true">.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">Next we will import the model results. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">File|Import|Model Results...</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import and display model results </text><image src="ImportModelResults.bmp" scale="100.00%" styleclass="Image Caption"><title translate="true">Import and display model results button</title></image><text styleclass="Normal" translate="true"> button. Select the Henry2D.nod file and click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Open</text><text styleclass="Normal" translate="true"> button. The </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Import_SUTRA_Model_Results_Dia" styleclass="Normal" style="font-weight:bold;" translate="true">Import SUTRA Model Results</link><text styleclass="Normal" translate="true"> dialog box will be displayed.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">Uncheck </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Saturation</text><text styleclass="Normal" translate="true"> because this is a fully saturated model. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Contour Mesh</text><text styleclass="Normal" translate="true"> and select the concentration for time step 100 as the data set to contour. Click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Select All Times</text><text styleclass="Normal" translate="true"> button. Click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true"> button to import the data.</text><br/><image src="HenryImportResults.png" scale="100.00%" styleclass="Image Caption"></image></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">You should now have contours similar to these.</text><br/><image src="HenryConcentrations100.png" scale="100.00%" styleclass="Image Caption"></image></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">Next we will animate the contours. To do that we first need to make sure that the values for the contour lines will be the same at each time step in the animation. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data|Data Visualization</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data visualization</text><text styleclass="Normal" translate="true"> </text><image src="DataVisualizationButton.bmp" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button. Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Contour Data</text><text styleclass="Normal" translate="true"> on the left. Change the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Contour interval</text><text styleclass="Normal" translate="true"> to 0.005 and click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Apply</text><text styleclass="Normal" translate="true"> button. Then check the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Specify contours</text><text styleclass="Normal" translate="true"> check box. If you wish, you can click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Edit contours</text><text styleclass="Normal" translate="true"> button for more control on the contour values that will be used. Click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Apply</text><text styleclass="Normal" translate="true"> button again.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">Next click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Retain limits and legends (animations)</text><text styleclass="Normal" translate="true"> radio button and click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Apply</text><text styleclass="Normal" translate="true"> button again. Now set the data set to Concentration_0 and click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Apply</text><text styleclass="Normal" translate="true"> button again. Click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Edit contours</text><text styleclass="Normal" translate="true"> button to check that the contour values for Concentration_0 is the same as it was for Concentration_100. When the selected data set changes during the animation, the contour values for Concentration_0 will be applied to each succeeding data set.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">Select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">File|Export|Image...</text><text styleclass="Normal" translate="true"> or click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Export image</text><text styleclass="Normal" translate="true"> </text><image src="ExportImageButton.bmp" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button. On the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Image_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Export Image</link><text styleclass="Normal" translate="true"> dialog box, select the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Text</text><text styleclass="Normal" translate="true"> panel. In the title box type &quot;Time Step = %TS; Time = %ET&quot; The &quot;%TS&quot; and &quot;%ET&quot; are replaced with the time step number and the elapsed time in the title above the mesh image.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">Now go to the Animation tab. Check the check box for &quot;U values&quot; under &quot;Data Sets|Optional|Model Results|SUTRA Nodal Results.&quot; This will add all the concentration data sets to data sets table.</text></li>
      <li styleclass="Table Header" style="text-align:left;"><text styleclass="Normal" translate="true">Set the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Display choice</text><text styleclass="Normal" translate="true"> to </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Contour data</text><text styleclass="Normal" translate="true">. Make sure you have resized the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Image_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Export Image</link><text styleclass="Normal" translate="true"> dialog box so that you can see the whole mesh and then click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Preview</text><text styleclass="Normal" translate="true"> button. You should see the evolution of the concentration contours through time.</text></li>
    </list>
  </body>
</topic>
