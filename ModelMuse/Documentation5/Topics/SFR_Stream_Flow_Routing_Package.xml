<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="rbwinst" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">SFR: Stream-Flow Routing Package Pane</title>
  <body>
    <header>
      <para style="margin-bottom:10px; line-height:2.0;"><text styleclass="Heading1" translate="true">SFR: Stream-Flow Routing Package Pane</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Streamflow-Routing (SFR) package is used to simulate streams in a model. The flow in a stream is routed instantaneously to downstream streams or lakes. Flow can be routed through lakes defined in the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="LAK_Lake_Package_Pane" styleclass="Normal" translate="true">Lake package</link><text styleclass="Normal" translate="true">. Unsaturated flow beneath streams can be simulated. The pane for this package is on the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="MODFLOW_Packages_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">MODFLOW Packages and Programs</link><text styleclass="Normal" translate="true"> dialog box under </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Head_Dependant_Flux" styleclass="Normal" style="font-weight:bold;" translate="true">Head Dependant Flux</link><text styleclass="Normal" translate="true">. The pane has two tabs: </text><text styleclass="Normal" style="font-weight:bold;" translate="true">General</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Parameters</text><text styleclass="Normal" translate="true">. However, parameters are only supported in the SFR package if unsaturated flow is not simulated in the SFR package and if streambed properties are defined at segment endpoints rather than at each reach. The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Parameters</text><text styleclass="Normal" translate="true"> tab is only visible for models in which SFR parameters can be used.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The locations of Stream-Flow Routing boundaries are defined with </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Objects" styleclass="Normal" translate="true">objects</link><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">On the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">General</text><text styleclass="Normal" translate="true"> tab, the user must choose whether or not to simulate </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Unsaturated Flow (ISFROPT)</text><text styleclass="Normal" translate="true">. (Users who chose to simulate unsaturated flow beneath streams may also simulate unsaturated flow over the entire model domain using the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="UZF_Unsaturated_Zone_Flow_Package" styleclass="Normal" translate="true">UZF</link><text styleclass="Normal" translate="true"> package.)</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">With </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Print Streams (ISTCB2)</text><text styleclass="Normal" translate="true"> the user can choose to have all information on inflows and outflows from each reach; on stream depth, width, and streambed conductance; and on head difference and gradient across the streambed will be written to the either the main listing file or a separate output file.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">In GSFLOW, the format for the SFR package is slightly different from the format used by MODFLOW-2005. If you are generating SFR input for GSFLOW, you should check the </text><text styleclass="Strong" translate="true">Use GSFLOW format</text><text styleclass="Normal" translate="true"> check box. The new format is used automatically for MODFLOW-NWT. (This option can now be specified on the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Options_Tab" styleclass="Normal" translate="true">Options</link><text styleclass="Normal" translate="true"> tab of the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="MODFLOW_Options_Dialog_Box" styleclass="Normal" translate="true">MODFLOW Options</link><text styleclass="Normal" translate="true"> </text><text styleclass="Normal" translate="true">dialog box.)</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The user can choose to specify certain stream properties either at segment endpoints or at each reach in the segment (</text><text styleclass="Normal" style="font-weight:bold;" translate="true">Streambed properties (ISFROPT)</text><text styleclass="Normal" translate="true">). However, if the properties are defined at each reach, the SFR package does not allow these properties to vary with time. One such property is the vertical conductance at a reach. If the vertical conductance is set to zero, it causes the stream segment to be disconnected from the aquifer. Thus the ability to set the vertical conductance to zero is required to change with time in order to activate or deactivate a stream segment.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Tolerance (DLEAK)</text><text styleclass="Normal" translate="true"> is the tolerance level of stream depth used in computing leakage between each stream reach and active model cell. Its value is in units of length. Usually a value of 0.0001 is sufficient when units of feet or meters are used in model.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" style="font-weight:bold;" translate="true">Number of trailing wave increments (NSTRAIL)</text><text styleclass="Normal" translate="true"> is the number of trailing wave increments used to represent a trailing wave. Trailing waves are used to represent a decrease in the surface infiltration rate. The value can be increased to improve mass balance in the unsaturated zone. Values between 10 and 20 work well, although, for large problems fewer trailing waves are recommend (10) due to memory and computational requirements.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" style="font-weight:bold;" translate="true">Maximum number of trailing waves (NSFRSETS)</text><text styleclass="Normal" translate="true"> is the maximum number of different sets of trailing waves used to allocate arrays. Arrays are allocated by multiplying NSTRAIL by NSFRSETS. A value of 30 is sufficient for problems where the stream depth varies often.</text></para>
    <para styleclass="Normal"><anchor id="ISUZN" styleclass="Normal" style="font-weight:bold;"></anchor><text styleclass="Normal" style="font-weight:bold;" translate="true">Maximum number of cells to define unsaturated zone (ISUZN)</text><text styleclass="Normal" translate="true"> is the maximum number of vertical cells used to the define the unsaturated zone beneath a stream reach. If </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Time_Tab" styleclass="Normal" translate="true">ICALC</link><text styleclass="Normal" translate="true"> is 1 for all segments then ISUZN should be set to 1.</text></para>
    <para styleclass="Strong"><text styleclass="Strong" translate="true">Use transient streamflow routing with kinematic-wave equation (IRTFLG)</text><text styleclass="Normal" translate="true"> If checked, transient streamflow routing is active. streamflow will be routed using the kinematic-wave equation (see USGS Techniques and Methods 6-D1, p. 68-69); </text></para>
    <para styleclass="Strong"><text styleclass="Strong" translate="true">Number of divisions per time step for kinematic waves (NUMTIM)</text><text styleclass="Normal" translate="true"> NUMTIM is the number of sub time steps used to route streamflow. The time step that will be used to route streamflow will be equal to the MODFLOW time step divided by NUMTIM.</text></para>
    <para styleclass="Strong"><text styleclass="Strong" translate="true">Time weighting factor for the kinematic wave solution (WEIGHT)</text><text styleclass="Normal" translate="true"> WEIGHT is </text><text style="font-family:'Times New Roman'; font-size:12pt; color:#000000;" translate="true">the time weighting factor used to calculate the change in channel storage. WEIGHT has a value between 0.5 and 1. See equation 83 in USGS Techniques and Methods 6-D1 for further details.</text><text styleclass="Normal" translate="true"> </text></para>
    <para styleclass="Strong"><text styleclass="Strong" translate="true">Closure criterion for the kinematic wave solution (FLWTOL)</text><text styleclass="Normal" translate="true"> FLWTOL is a real number equal to the streamflow tolerance for convergence of the kinematic wave equation used for transient streamflow routing. A value of 0.00003 cubic meters per second has been used successfully in test simulations (and would need to be converted to whatever units are being used in the particular simulation).</text></para>
    <para styleclass="Strong" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.0; white-space:normal; page-break-inside:auto; page-break-after:auto; tabstops:none;"><text styleclass="Strong" translate="true">Gage overall stream budget (OUTTYPE = 8)</text><text styleclass="Normal" translate="true">. In the Gage package, OUTTYPE = 8 means to provide a listing of time and the following budget components summed over all stream reaches: </text></para>
    <list id="2" type="ul" listtype="bullet" formatstring="·" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Bullet List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.0; white-space:normal; page-break-inside:auto; page-break-after:auto; tabstops:none; font-family:Symbol; font-size:12pt; color:#000000;">
      <li styleclass="Bullet List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.0; white-space:normal; page-break-inside:auto; page-break-after:auto; tabstops:none;"><text styleclass="Bullet List" translate="true">stream loss; </text></li>
      <li styleclass="Bullet List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.0; white-space:normal; page-break-inside:auto; page-break-after:auto; tabstops:none;"><text styleclass="Bullet List" translate="true">stream gain; </text></li>
      <li styleclass="Bullet List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.0; white-space:normal; page-break-inside:auto; page-break-after:auto; tabstops:none;"><text styleclass="Bullet List" translate="true">infiltration into the unsaturated zone; </text></li>
      <li styleclass="Bullet List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.0; white-space:normal; page-break-inside:auto; page-break-after:auto; tabstops:none;"><text styleclass="Bullet List" translate="true">change of storage in the unsaturated zone; </text></li>
      <li styleclass="Bullet List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.0; white-space:normal; page-break-inside:auto; page-break-after:auto; tabstops:none;"><text styleclass="Bullet List" translate="true">recharge; and </text></li>
    </list>
    <list id="3" type="ul" listtype="bullet" formatstring="·" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:Symbol; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">storage in the unsaturated zone.</text></li>
    </list>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">On the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Parameters</text><text styleclass="Normal" translate="true"> tabs, the user can define parameters for the Stream-Flow Routing boundaries. These parameters will be multiplied by user-specified </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Segment_Tab" styleclass="Normal" translate="true">multipliers</link><text styleclass="Normal" translate="true"> to determine the Stream-Flow Routing conductances defined by parameters. The user can also set up Stream-Flow Routing boundaries that do not involve parameters. </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Objects" styleclass="Normal" translate="true">Objects</link><text styleclass="Normal" translate="true"> must be used to define the locations of the Stream-Flow Routing boundaries.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">For each SFR parameter, the user must define one or more </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Time_Tab" styleclass="Normal" translate="true">instances</link><text styleclass="Normal" translate="true">. For each instance, the user must define, a starting time, an ending time, and a name. These instances are used to define how the conductance multipliers for an SFR parameter vary with time. Instance names can only contain ASCII characters.</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:0px; tabstops:none;"><snippet src="LinkToManageParameters"/></para>
  </body>
</topic>
